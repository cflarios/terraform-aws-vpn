---
- name: Configure WireGuard VPN server with Docker
  hosts: vpn_servers
  become: yes
  gather_facts: yes
  
  roles:
    - wireguard-docker

  post_tasks:
    - name: Show server information
      debug:
        msg:
          - "🎉 WireGuard server with Docker configured successfully!"
          - "🐳 Container running: docker ps"
          - "📋 Configurations generated in: {{ wireguard.config_dir }}"
          - "📄 View logs: docker logs wireguard"
          - "🔄 Restart: docker-compose restart"
          - "📱 Client configurations available for download"
